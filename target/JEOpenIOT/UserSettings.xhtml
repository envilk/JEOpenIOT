<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
	<link rel="stylesheet" href="css/milligram.css" />
	<title>User Settings</title>
</h:head>
<h:body>
	<h2 class="">OPENIoT</h2>

	<h1 class="H1_us_prof">
		<a href="UserProfile.xhtml"> Home Page </a> User Settings
	</h1>

	<h:form class="search_div">
		<h:commandLink action="#{pagesController.from_ToSearch()}">
			<img class="img_not" src="img/search.svg" alt="Search" />
		</h:commandLink>
	</h:form>
	<br />
	<br />
	<br />

	<div class="sett_div">
		<h:form>
			<h:commandLink class="logout_but"
				action="#{sessionController.logout()}" value="Logout"></h:commandLink>
		</h:form>
		<h:form>
			<h:commandButton value="Delete Account"
				action="#{userController.removeUser}" />
		</h:form>
	</div>

	<h:panelGroup rendered="#{not empty sessionController.username}">
		<div class="us_prof_div_sp">
			<h:form>
				<div class="sett_div">
					<h:outputLabel> Name: #{userController.getUserByUname(sessionController.username).fName}</h:outputLabel>
					<h:inputText value="#{userController.fName}" id="name_sett"
						title="NAME DESPLEGABLE" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<div class="sett_div">
					<h:outputLabel> Last Name: #{userController.getUserByUname(sessionController.username).iName} </h:outputLabel>
					<h:inputText value="#{userController.iName}" id="last_name_sett"
						title="Last Name" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<div class="sett_div">
					<h:outputLabel> User Name: #{userController.getUserByUname(sessionController.username).uName}</h:outputLabel>
					<h:inputText value="#{userController.uName}" id="user_name_sett"
						title="" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<div class="sett_div">
					<h:outputLabel> Address: #{userController.getUserByUname(sessionController.username).address} </h:outputLabel>
					<h:inputText value="#{userController.address}"
						id="adress_name_sett" title="" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<div class="sett_div">
					<h:outputLabel> Phone: #{userController.getUserByUname(sessionController.username).phoneNumber} </h:outputLabel>
					<h:inputText value="#{userController.phoneNumber}"
						id="phone_name_sett" title="" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<div class="sett_div">
					<h:outputLabel> Password: #{userController.getUserByUname(sessionController.username).uPassword} </h:outputLabel>
					<h:inputText value="#{userController.uPassword}"
						id="pass_name_sett" title="" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<h:commandButton value="submit" action="#{userController.save}" />
			</h:form>
			<a href="UserProfile.xhtml"> Cancel </a>

		</div>
	</h:panelGroup>
	<h:panelGroup rendered="#{empty sessionController.username}">
		<div class="us_prof_div_sp">
			<h:form>
				<div class="sett_div">
					<h:outputLabel> Name </h:outputLabel>
					<h:inputText id="name_sett" value="#{userController.fName}"
						title="NAME DESPLEGABLE" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<div class="sett_div">
					<h:outputLabel> Last Name </h:outputLabel>
					<h:inputText id="last_name_sett" value="#{userController.iName}"
						title="Last Name" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<div class="sett_div">
					<h:outputLabel> User Name </h:outputLabel>
					<h:inputText id="user_name_sett" value="#{userController.uName}"
						title="" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<div class="sett_div">
					<h:outputLabel> Address </h:outputLabel>
					<h:inputText id="adress_name_sett"
						value="#{userController.address}" title="" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<div class="sett_div">
					<h:outputLabel> Phone </h:outputLabel>
					<h:inputText id="phone_name_sett"
						value="#{userController.phoneNumber}" title="" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<div class="sett_div">
					<h:outputLabel> Set password </h:outputLabel>
					<h:inputText id="pass_name_sett"
						value="#{userController.uPassword}" title="" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<div class="sett_div">
					<h:outputLabel> Repeat password </h:outputLabel>
					<h:inputText id="repeat_pass_name_sett"
						value="#{userController.passRepeat}" title="" required="true"
						requieredMessage="Error: A name is required" maxlength="25"></h:inputText>
				</div>
				<h:commandButton value="submit" action="#{userController.register}" />
			</h:form>
			<a href="Login.xhtml"> Cancel </a>

		</div>
	</h:panelGroup>
</h:body>
</html>